import{j as e}from"./ui-vendor-QE-oobKj.js";import{a as f}from"./react-vendor-ClhmtWht.js";import{m as a,g}from"./index-CyPnvWQK.js";import{u as j,w as v}from"./Dashboard-CWZnxi31.js";import{a as b}from"./weight-logging-BIZ1MV3J.js";import{S as N,Z as w,e as k,b as C,n as S,a2 as c,j as T}from"./utils-vendor-BSj6XY88.js";import"./data-vendor-DLfSSb0Z.js";import"./analytics-vendor-CXgENQ1a.js";import"./use-supabase-body-metrics-B5fccTwE.js";import"./input-BuoCXOhS.js";import"./label-DALfSSFr.js";import"./VersionDisplay-8Gv_tqWh.js";import"./use-swipe-navigation-eIglpj1B.js";function G({weight:s,bodyFat:i,method:n,onEditStep:d,onAddPhoto:o}){const{setCanGoNext:l}=j();f.useEffect(()=>{v.startStep(4),l(!0)},[l]);const m=t=>{try{return new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t)}catch{return t.toLocaleDateString()+" "+t.toLocaleTimeString()}},u=new Date,p=b.getWeightHelper(s),x=[{icon:N,label:"Weight",value:`${s.value} ${s.unit}`,subtitle:p,step:0},{icon:w,label:"Body Fat",value:`${i.value.toFixed(1)}%`,subtitle:"Body fat percentage",step:1},{icon:k,label:"Method",value:n.label,subtitle:"Measurement method",step:2},{icon:C,label:"Date & Time",value:m(u),subtitle:"Recorded automatically",step:-1}];return e.jsxs(a.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.25,type:"spring",damping:20},children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx(a.div,{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-primary/10",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(S,{className:"h-10 w-10 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-foreground",children:"Review measurement"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Confirm your weight entry details"})]})]}),e.jsx(a.div,{className:"space-y-4 rounded-3xl bg-secondary/20 p-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.25},children:x.map((t,y)=>{const h=t.icon,r=t.step>=0;return e.jsxs(a.div,{className:g("flex items-center gap-4 rounded-2xl p-4 transition-all duration-200",r?"group cursor-pointer hover:bg-secondary/30":"cursor-default"),onClick:()=>r&&d(t.step),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05,duration:.25},whileTap:r?{scale:.98}:{},role:r?"button":void 0,"aria-label":r?`Edit ${t.label}`:void 0,children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(h,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:t.label}),r&&e.jsx(c,{className:"h-4 w-4 text-muted-foreground opacity-0 transition-opacity group-hover:opacity-100"})]}),e.jsx("div",{className:"truncate text-lg font-semibold text-foreground",children:t.value}),e.jsx("div",{className:"truncate text-sm text-muted-foreground",children:t.subtitle})]}),r&&e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary/50 opacity-0 transition-all duration-200 group-hover:scale-110 group-hover:opacity-100",children:e.jsx(c,{className:"h-4 w-4 text-foreground"})})]},t.label)})}),o&&e.jsxs(a.div,{className:"space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.25},children:[e.jsx("p",{className:"text-center text-sm font-medium text-muted-foreground",children:"Optional"}),e.jsxs(a.button,{onClick:o,className:"flex h-14 w-full items-center justify-center gap-3 rounded-2xl border-2 border-dashed border-border bg-secondary/20 transition-all duration-200 hover:border-primary/50 hover:bg-secondary/30",whileTap:{scale:.98},children:[e.jsx(T,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-foreground",children:"Add photo"})]})]}),e.jsx(a.div,{className:"space-y-2 rounded-2xl bg-primary/5 p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.25},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-1 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Quick Summary"}),e.jsxs("div",{className:"text-foreground",children:[e.jsxs("span",{className:"text-lg font-semibold",children:[s.value," ",s.unit]}),e.jsx("span",{className:"mx-2 text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-lg font-semibold",children:[i.value.toFixed(1),"%"]}),e.jsx("span",{className:"mx-2 text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-muted-foreground",children:n.label})]})]})}),e.jsxs(a.div,{className:"space-y-1 text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.25},children:[e.jsx("p",{children:"Tap any field above to edit"}),e.jsx("p",{className:"opacity-75",children:"Your measurement will be saved with the current date and time"})]})]})}export{G as ReviewStep};
