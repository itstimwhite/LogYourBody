import{j as e}from"./ui-vendor-B29bBmtv.js";import{a as o}from"./react-vendor-CGPzL8fz.js";import{g as j,m as i,c as s,H as N,I as S}from"./index-BXn5fie0.js";import{u as w,w as d}from"./Dashboard-BEtRgZCw.js";import{m as E}from"./weight-logging-DDOSsiCQ.js";import{S as C,an as H,R as M,r as D,Z as I,ao as T,e as O,G as R}from"./utils-vendor-eZsCaz-O.js";import{m as l}from"./radio-group-BXTCuRDb.js";import"./data-vendor-CtvEhjhB.js";import"./analytics-vendor-CXgENQ1a.js";import"./use-is-mounted-BS5eygNt.js";import"./focus-management-6kc7Qb5h.js";import"./use-supabase-body-metrics-BQdYD7Am.js";import"./input-CNy6IyKs.js";import"./label-Cv8kb5SZ.js";import"./progress-BAm9950D.js";import"./VersionDisplay-hsVI5a3E.js";import"./prefetch-DuFvdqm2.js";import"./use-swipe-navigation-Br04oNeb.js";import"./bugs-2q_Jw5H1.js";const c=[{value:"scale",label:"Digital Scale",icon:C,description:"Home or gym scale"},{value:"dexa",label:"DEXA Scan",icon:H,description:"Professional scan"},{value:"calipers",label:"Calipers",icon:M,description:"Skinfold measurement"},{value:"visual",label:"Visual Estimate",icon:D,description:"Mirror assessment"},{value:"bioimpedance",label:"Bio-impedance",icon:I,description:"Smart scale/device"},{value:"other",label:"Other",icon:T,description:"Different method"}];function ee({value:p,onChange:m}){const{setCanGoNext:n,goNext:u}=w(),[r,x]=o.useState(c.find(t=>t.value===p.value)||c[0]),[_,y]=o.useState(!1),h=j.isNativePlatform();o.useEffect(()=>{d.startStep(3)},[]),o.useEffect(()=>{if(r){const t={value:r.value,label:r.label};try{E.parse(t),m(t),n(!0)}catch{n(!1)}}},[r,m,n]);const f=async t=>{h&&await N.impact({style:S.Medium}),x(t),y(!0),d.completeStep({step_number:3,step_name:"method",interaction_type:"tap",value:t.value}),setTimeout(()=>{u()},300)};return e.jsxs(i.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.25,type:"spring",damping:20},children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx(i.div,{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-primary/10",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(O,{className:"h-10 w-10 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-foreground",children:"How did you measure?"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your measurement method"})]})]}),e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.25},children:e.jsxs(l,{value:r,onChange:f,children:[e.jsx(l.Label,{className:"sr-only",children:"Choose measurement method"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.map((t,g)=>{const v=t.icon;return e.jsx(l.Option,{value:t,className:({active:a,checked:b})=>s("relative rounded-2xl border-2 p-6 transition-all duration-200","flex flex-col items-center gap-3 text-center cursor-pointer","min-h-[120px] focus:outline-hidden focus:ring-4 focus:ring-primary/20",b?"border-primary bg-primary text-primary-foreground":"border-transparent bg-secondary/20 text-foreground hover:border-border hover:bg-secondary/30",a&&"ring-4 ring-primary/20"),children:({checked:a})=>e.jsxs(i.div,{className:"flex flex-col items-center gap-3 w-full",whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05,duration:.25},children:[a&&e.jsx(i.div,{className:"absolute right-2 top-2",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.2},children:e.jsx(R,{className:"h-5 w-5"})}),e.jsx("div",{className:s("flex h-12 w-12 items-center justify-center rounded-2xl",a?"bg-primary-foreground/20":"bg-primary/10"),children:e.jsx(v,{className:s("h-6 w-6",a?"text-primary-foreground":"text-primary")})}),e.jsxs("div",{children:[e.jsx("div",{className:s("mb-1 text-sm font-semibold",a?"text-primary-foreground":"text-foreground"),children:t.label}),e.jsx("div",{className:s("text-xs opacity-80",a?"text-primary-foreground":"text-muted-foreground"),children:t.description})]})]})},t.value)})})]})}),e.jsxs(i.div,{className:"text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.25},children:[e.jsx("p",{children:"Tap to select your measurement method"}),e.jsx("p",{className:"mt-1 opacity-75",children:"Different methods may have varying accuracy"})]})]})}export{ee as MethodStep};
