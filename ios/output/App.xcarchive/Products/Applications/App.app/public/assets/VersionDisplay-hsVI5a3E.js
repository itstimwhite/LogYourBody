import{j as e}from"./ui-vendor-B29bBmtv.js";import{R as v,a as n}from"./react-vendor-CGPzL8fz.js";import{T as f,w as j,x as p,a as o,y as g,B as N}from"./index-BXn5fie0.js";import{h as w}from"./utils-vendor-eZsCaz-O.js";const T=v.memo(function({className:l="",showBuildInfo:m=!1}){const[t,c]=n.useState(navigator.onLine),[d,x]=n.useState(null),[k]=n.useState(new Date().toISOString()),s=n.useMemo(()=>({version:"2025.06.24",buildHash:"1749941441146",environment:"production"}),[]),r=n.useCallback(()=>c(!0),[]),a=n.useCallback(()=>c(!1),[]);n.useEffect(()=>(window.addEventListener("online",r),window.addEventListener("offline",a),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}),[r,a]);const h=async()=>{if("serviceWorker"in navigator)try{const i=await navigator.serviceWorker.getRegistration();i&&(await i.update(),x(new Date))}catch(i){console.error("Error checking for updates:",i)}},u=i=>i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return m?e.jsxs("div",{className:`space-y-2 text-xs text-muted-foreground ${l}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Version Information"}),e.jsxs(N,{variant:"ghost",size:"sm",onClick:h,className:"h-6 px-2 text-xs",children:[e.jsx(w,{className:"mr-1 h-3 w-3"}),"Check Updates"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Version:"}),e.jsxs(o,{variant:"outline",className:"ml-2 text-xs",children:["v",s.version]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsxs("div",{className:"ml-2 flex items-center",children:[e.jsx("span",{className:`mr-1 h-2 w-2 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs",children:t?"Online":"Offline"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Environment:"}),e.jsx(o,{variant:s.environment==="production"?"default":"secondary",className:"ml-2 text-xs",children:s.environment})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"}),e.jsx("span",{className:"ml-2 font-mono text-xs",children:s.buildHash.slice(0,8)})]})]}),d&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last checked: ",u(d)]})]}):e.jsx(f,{children:e.jsxs(j,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:`text-xs opacity-50 ${l}`,children:["v",s.version]})}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{children:["Version: ",s.version]}),e.jsxs("div",{children:["Environment: ",s.environment]}),e.jsxs("div",{children:["Build: ",s.buildHash]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),t?"Online":"Offline"]})]})})]})})});export{T as V};
