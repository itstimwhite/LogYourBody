import{j as e}from"./ui-vendor-B29bBmtv.js";import{a as d,u as we}from"./react-vendor-CGPzL8fz.js";import{c as W,u as z,B as E,a as I,p as Se,t as A,n as Ce,h as ce,s as K,q as Ee}from"./index-BXn5fie0.js";import{S as U}from"./switch-Daz9tu8V.js";import{I as q}from"./input-CNy6IyKs.js";import{L as M}from"./label-Cv8kb5SZ.js";import{D as P,a as _,b as O,c as R,d as Te,u as ke}from"./use-supabase-body-metrics-BQdYD7Am.js";import{T as Q,a as X,b as Y}from"./tabs-CW-EO5Rv.js";import{z as Z,P as ee,B as De,f as se,l as te,h as L,G as H,I as ae,K as re,L as $,N as Ae,O as Ie,D as Pe,p as ie,Q as B,V as _e}from"./utils-vendor-eZsCaz-O.js";import{V as Oe}from"./VersionDisplay-hsVI5a3E.js";import{u as Re,g as Fe,h as Me,R as Be}from"./RevenueCatPaywall-uNx53ZzU.js";import{H as Le}from"./HealthKitDebug-CnHDSqvp.js";import{u as Ke}from"./data-vendor-CtvEhjhB.js";import{u as Ue}from"./use-swipe-navigation-Br04oNeb.js";import{p as ne}from"./prefetch-DuFvdqm2.js";import"./analytics-vendor-CXgENQ1a.js";const F=({items:t,selectedIndex:x,onSelectionChange:a,className:u,itemHeight:l=48,visibleItems:f=5})=>{const o=d.useRef(null),[m,b]=d.useState(!1),[v,j]=d.useState(0),[c,p]=d.useState(0),i=l*f;t.length*l;const n=Math.floor(f/2)*l;d.useEffect(()=>{if(o.current){const w=x*l;o.current.scrollTop=w}},[x,l]);const s=()=>{if(!o.current||m)return;const w=o.current.scrollTop,C=Math.round(w/l),k=Math.max(0,Math.min(t.length-1,C));k!==x&&a(k)},g=w=>{b(!0),j(w.clientY),p(o.current?.scrollTop||0)},S=w=>{if(!m||!o.current)return;const C=w.clientY-v,k=c-C;o.current.scrollTop=k},r=()=>{b(!1),D()},h=w=>{b(!0),j(w.touches[0].clientY),p(o.current?.scrollTop||0)},y=w=>{if(!m||!o.current)return;const C=w.touches[0].clientY-v,k=c-C;o.current.scrollTop=k},T=()=>{b(!1),D()},D=()=>{if(!o.current)return;const w=o.current.scrollTop,C=Math.round(w/l),k=Math.max(0,Math.min(t.length-1,C));o.current.scrollTo({top:k*l,behavior:"smooth"}),a(k)};return e.jsxs("div",{className:W("relative select-none",u),children:[e.jsx("div",{className:"pointer-events-none absolute left-0 right-0 z-10 border-y border-primary/20 bg-primary/10",style:{top:n,height:l}}),e.jsxs("div",{ref:o,className:"scrollbar-hide overflow-hidden",style:{height:i},onScroll:s,onMouseDown:g,onMouseMove:S,onMouseUp:r,onMouseLeave:r,onTouchStart:h,onTouchMove:y,onTouchEnd:T,children:[Array(Math.floor(f/2)).fill(null).map((w,C)=>e.jsx("div",{style:{height:l}},`padding-start-${C}`)),t.map((w,C)=>e.jsx("div",{className:W("flex cursor-pointer items-center justify-center text-center transition-opacity duration-200",C===x?"font-medium text-foreground":"text-muted-foreground"),style:{height:l},onClick:()=>a(C),children:w},C)),Array(Math.floor(f/2)).fill(null).map((w,C)=>e.jsx("div",{style:{height:l}},`padding-end-${C}`))]})]})},Ye=({heightInCm:t,units:x,onHeightChange:a,className:u})=>{if(x==="imperial"){const l=Math.round(t/2.54),f=Math.floor(l/12),o=l%12,m=Array.from({length:6},(c,p)=>p+3),b=Array.from({length:12},(c,p)=>p),v=c=>{const i=m[c]*12+o;a(i*2.54)},j=c=>{const p=b[c],i=f*12+p;a(i*2.54)};return e.jsxs("div",{className:W("flex gap-4",u),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Feet"}),e.jsx(F,{items:m.map(c=>`${c} ft`),selectedIndex:f-3,onSelectionChange:v,className:"rounded-lg bg-secondary"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Inches"}),e.jsx(F,{items:b.map(c=>`${c} in`),selectedIndex:o,onSelectionChange:j,className:"rounded-lg bg-secondary"})]})]})}else{const l=Array.from({length:151},(m,b)=>b+100),f=Math.max(0,t-100),o=m=>{a(l[m])};return e.jsxs("div",{className:u,children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Centimeters"}),e.jsx(F,{items:l.map(m=>`${m} cm`),selectedIndex:f,onSelectionChange:o,className:"rounded-lg bg-secondary"})]})}},We=({date:t,onDateChange:x,className:a})=>{const u=new Date().getFullYear(),l=["January","February","March","April","May","June","July","August","September","October","November","December"],f=Array.from({length:u-1919},(s,g)=>u-g),o=(s,g)=>new Date(g,s+1,0).getDate(),m=t.getMonth(),b=t.getFullYear(),v=t.getDate(),j=o(m,b),c=Array.from({length:j},(s,g)=>g+1),p=s=>{const g=new Date(b,s,Math.min(v,o(s,b)));x(g)},i=s=>{const g=new Date(b,m,c[s]);x(g)},n=s=>{const g=f[s],S=new Date(g,m,Math.min(v,o(m,g)));x(S)};return e.jsxs("div",{className:W("flex gap-2",a),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Month"}),e.jsx(F,{items:l,selectedIndex:m,onSelectionChange:p,className:"rounded-lg bg-secondary"})]}),e.jsxs("div",{className:"w-16",children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Day"}),e.jsx(F,{items:c,selectedIndex:v-1,onSelectionChange:i,className:"rounded-lg bg-secondary"})]}),e.jsxs("div",{className:"w-20",children:[e.jsx("div",{className:"mb-2 text-center text-sm font-medium",children:"Year"}),e.jsx(F,{items:f,selectedIndex:f.indexOf(b),onSelectionChange:n,className:"rounded-lg bg-secondary"})]})]})};function qe(){const{user:t}=z(),[x,a]=d.useState({isSupported:!1,isAvailable:!1,isRegistered:!1,credentials:[],loading:!0,error:null});d.useEffect(()=>{u()},[]),d.useEffect(()=>{t&&l()},[t]);const u=async()=>{if(!(window.PublicKeyCredential!==void 0)){a(n=>({...n,isSupported:!1,isAvailable:!1,loading:!1}));return}try{const n=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();a(s=>({...s,isSupported:!0,isAvailable:n,loading:!1}))}catch(n){console.error("Error checking WebAuthn availability:",n),a(s=>({...s,isSupported:!0,isAvailable:!1,loading:!1,error:"Failed to check biometric availability"}))}},l=async()=>{if(t)try{const i=localStorage.getItem(`webauthn_credentials_${t.id}`),n=i?JSON.parse(i):[];a(s=>({...s,credentials:n,isRegistered:n.length>0}))}catch(i){console.error("Error loading credentials:",i),a(n=>({...n,error:"Failed to load biometric credentials"}))}},f=()=>crypto.getRandomValues(new Uint8Array(32)),o=i=>{const n=new Uint8Array(i);let s="";for(const g of n)s+=String.fromCharCode(g);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},m=i=>{const n=i.replace(/-/g,"+").replace(/_/g,"/"),s=n.padEnd(n.length+(4-n.length%4)%4,"="),g=atob(s),S=new Uint8Array(g.length);for(let r=0;r<g.length;r++)S[r]=g.charCodeAt(r);return S.buffer},b=async()=>{if(!x.isSupported||!x.isAvailable||!t)return a(i=>({...i,error:"Biometric authentication not available"})),!1;a(i=>({...i,loading:!0,error:null}));try{const i=f(),n=new TextEncoder().encode(t.id),s={challenge:i,rp:{name:"LogYourBody",id:window.location.hostname},user:{id:n,name:t.email||"",displayName:t.user_metadata?.name||t.email||"User"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",requireResidentKey:!1},timeout:6e4,attestation:"direct"},g=await navigator.credentials.create({publicKey:s});if(!g)throw new Error("Failed to create credential");const S=g.response,r={id:g.id,publicKey:o(S.getPublicKey()),counter:0,deviceType:p(),createdAt:new Date().toISOString()},h=[...x.credentials,r];return localStorage.setItem(`webauthn_credentials_${t.id}`,JSON.stringify(h)),a(y=>({...y,credentials:h,isRegistered:!0,loading:!1})),!0}catch(i){console.error("Biometric registration failed:",i);let n="Failed to register biometric authentication";return i.name==="NotAllowedError"?n="Biometric registration was cancelled or denied":i.name==="NotSupportedError"&&(n="Biometric authentication is not supported on this device"),a(s=>({...s,loading:!1,error:n})),!1}},v=async()=>{if(!x.isSupported||!x.isAvailable||!x.isRegistered||!t)return a(i=>({...i,error:"Biometric authentication not available"})),!1;a(i=>({...i,loading:!0,error:null}));try{const i=f(),n=x.credentials.map(h=>({id:m(h.id),type:"public-key"})),s={challenge:i,allowCredentials:n,timeout:6e4,userVerification:"required"},g=await navigator.credentials.get({publicKey:s});if(!g)throw new Error("Failed to get assertion");const S=o(g.rawId);if(!x.credentials.find(h=>h.id===g.id||h.id===S))throw new Error("Credential not found");return console.log("Biometric authentication successful:",g),a(h=>({...h,loading:!1})),!0}catch(i){console.error("Biometric authentication failed:",i);let n="Biometric authentication failed";return i.name==="NotAllowedError"?n="Biometric authentication was cancelled or denied":i.name==="InvalidStateError"?n="No registered biometric credentials found":i.message==="Credential not found"&&(n="Invalid biometric credential"),a(s=>({...s,loading:!1,error:n})),!1}},j=async i=>{try{const n=x.credentials.filter(s=>s.id!==i);return t&&localStorage.setItem(`webauthn_credentials_${t.id}`,JSON.stringify(n)),a(s=>({...s,credentials:n,isRegistered:n.length>0})),!0}catch(n){return console.error("Failed to remove biometric credential:",n),a(s=>({...s,error:"Failed to remove biometric credential"})),!1}},c=async()=>{if(!x.isSupported)return!1;try{return await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}},p=()=>{const i=navigator.userAgent;return/iPhone|iPad|iPod/.test(i)?"iOS":/Android/.test(i)?"Android":/Mac/.test(i)?"macOS":/Windows/.test(i)?"Windows":"Unknown"};return{...x,registerBiometric:b,authenticateWithBiometric:v,removeBiometric:j,checkBiometricAvailability:c}}function He({onComplete:t}){const{isSupported:x,isAvailable:a,isRegistered:u,credentials:l,loading:f,error:o,registerBiometric:m,removeBiometric:b}=qe(),[v,j]=d.useState(!1),c=async()=>{j(!0);const s=await m();j(!1),s&&t&&t()},p=async s=>{await b(s)},i=s=>{switch(s){case"iOS":return e.jsx(te,{className:"h-4 w-4"});case"Android":return e.jsx(te,{className:"h-4 w-4"});case"macOS":return e.jsx(Z,{className:"h-4 w-4"});default:return e.jsx(se,{className:"h-4 w-4"})}},n=s=>{switch(s){case"iOS":return"Face ID / Touch ID";case"Android":return"Fingerprint / Face Unlock";case"macOS":return"Touch ID";case"Windows":return"Windows Hello";default:return"Biometric"}};return x?a?e.jsxs("div",{className:"space-y-4",children:[o&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:o}),u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Registered devices"}),e.jsxs(I,{variant:"secondary",className:"text-xs",children:[l.length," device",l.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-md bg-secondary p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[i(s.deviceType),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:n(s.deviceType)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Added"," ",new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>p(s.id),className:"text-destructive hover:text-destructive",children:e.jsx(De,{className:"h-4 w-4"})})]},s.id))}),e.jsx(E,{onClick:c,disabled:v||f,variant:"outline",className:"w-full",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-r-transparent"}),"Adding device..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add another device"]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{children:"No biometric credentials registered"})]}),e.jsx(E,{onClick:c,disabled:v||f,className:"w-full",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-r-transparent"}),"Setting up biometric authentication..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Set up biometric authentication"]})})]}),e.jsx("div",{className:"rounded-md bg-muted p-3 text-xs text-muted-foreground",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"mt-0.5 h-3 w-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 font-medium",children:"How it works:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Your biometric data never leaves your device"}),e.jsx("li",{children:"• Only a secure credential is stored with LogYourBody"}),e.jsx("li",{children:"• You can remove access anytime from your settings"})]})]})]})})]}):e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Biometric authentication is not available on this device. Make sure you have Touch ID, Face ID, or fingerprint authentication enabled in your device settings."})}):e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Your device doesn't support biometric authentication."})})}function $e(){const[t,x]=d.useState(null),[a,u]=d.useState(!1);d.useEffect(()=>{l()},[]);const l=async()=>{u(!0);try{const m=await Se();x(m)}catch(m){console.error("Error checking database status:",m)}finally{u(!1)}},f=m=>m?e.jsx(H,{className:"h-4 w-4 text-green-500"}):e.jsx(ae,{className:"h-4 w-4 text-red-500"}),o=m=>e.jsx(I,{variant:m?"default":"destructive",children:m?"Exists":"Missing"});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Check if all required database tables exist and are accessible"}),e.jsx(E,{variant:"outline",size:"sm",onClick:l,disabled:a,children:a?e.jsx(L,{className:"h-4 w-4 animate-spin"}):e.jsx(L,{className:"h-4 w-4"})})]}),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[t.connected?e.jsx(H,{className:"h-4 w-4 text-green-500"}):e.jsx(ae,{className:"h-4 w-4 text-red-500"}),"Database Connection"]}),e.jsx(I,{variant:t.connected?"default":"destructive",children:t.connected?"Connected":"Disconnected"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Tables:"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[f(t.profilesTableExists),"profiles"]}),o(t.profilesTableExists)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[f(t.userSettingsTableExists),"user_settings"]}),o(t.userSettingsTableExists)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[f(t.emailSubscriptionsTableExists),"email_subscriptions"]}),o(t.emailSubscriptionsTableExists)]})]}),t.error&&e.jsx("div",{className:"rounded-md border border-destructive/20 bg-destructive/10 p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(re,{className:"mt-0.5 h-4 w-4 text-destructive"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error"}),e.jsx("p",{className:"text-xs text-destructive/80",children:t.error})]})]})}),!t.profilesTableExists&&e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(re,{className:"mt-0.5 h-4 w-4 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Migration Required"}),e.jsx("p",{className:"text-xs text-yellow-700",children:"Run database migrations to create the required tables."})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(L,{className:"mx-auto mb-2 h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking database status..."})]})})]})}function ze(){const{isConfigured:t,isLoading:x,customerInfo:a,offerings:u,error:l,getOfferings:f,restorePurchases:o}=Re(),[m,b]=d.useState(!1),[v,j]=d.useState(!1),c=async()=>{b(!0);try{const s=await f();A({title:"Offerings Test",description:`Found ${s.length} offerings`}),console.log("Offerings:",s)}catch(s){A({title:"Offerings Test Failed",description:s instanceof Error?s.message:"Unknown error",variant:"destructive"})}finally{b(!1)}},p=async()=>{b(!0);try{const s=await o();A({title:"Restore Test",description:"Purchase restoration completed"}),console.log("Restored Customer Info:",s)}catch(s){A({title:"Restore Test Failed",description:s instanceof Error?s.message:"Unknown error",variant:"destructive"})}finally{b(!1)}},i=Fe(a),n=Me(a);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Debug and test RevenueCat subscription functionality"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Configuration:"}),e.jsx(I,{variant:t?"default":"destructive",children:t?"Configured":"Not Configured"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Loading:"}),e.jsx(I,{variant:x?"secondary":"outline",children:x?"Loading":"Ready"})]})]}),l&&e.jsxs("div",{className:"rounded-lg border border-destructive/20 bg-destructive/10 p-3",children:[e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error:"}),e.jsx("p",{className:"text-sm text-destructive",children:l})]}),a&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"User ID:"}),e.jsx("p",{className:"break-all text-muted-foreground",children:a.originalAppUserId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Pro Features:"}),e.jsx(I,{variant:n?"default":"outline",children:n?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Subscription:"}),e.jsx(I,{variant:i.isActive?"default":"outline",children:i.isActive?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Will Renew:"}),e.jsx(I,{variant:i.willRenew?"default":"secondary",children:i.willRenew?"Yes":"No"})]})]}),i.expirationDate&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Expires:"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(i.expirationDate).toLocaleDateString()})]})]}),u&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Available Offerings"}),e.jsx("div",{className:"space-y-2",children:u.map((s,g)=>e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.metadata?.displayName||s.identifier}),e.jsxs(I,{variant:"outline",children:[s.availablePackages.length," packages"]})]}),e.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:s.availablePackages.map((S,r)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:S.identifier}),e.jsxs("span",{children:["$",S.product.price]})]},r))})]},g))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Test Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(E,{onClick:c,disabled:m||!t,variant:"outline",size:"sm",children:[m?e.jsx($,{className:"mr-1 h-4 w-4 animate-spin"}):e.jsx(L,{className:"mr-1 h-4 w-4"}),"Test Offerings"]}),e.jsxs(E,{onClick:p,disabled:m||!t,variant:"outline",size:"sm",children:[m?e.jsx($,{className:"mr-1 h-4 w-4 animate-spin"}):e.jsx(L,{className:"mr-1 h-4 w-4"}),"Restore Purchases"]}),e.jsxs(E,{onClick:()=>j(!0),disabled:!t,variant:"default",size:"sm",children:[e.jsx(Ae,{className:"mr-1 h-4 w-4"}),"Test Paywall"]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"mb-2 text-sm font-semibold",children:"Environment"}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{children:["Public Key:"," ",(()=>{const s=Capacitor.isNativePlatform()&&Capacitor.getPlatform()==="ios",r=(s?"appl_dJsnXzyTgEAsntJQjOxeOvOnoXP":"strp_kPUxxTPVLFHFRUapUTafrHwSMAE")||"appl_dJsnXzyTgEAsntJQjOxeOvOnoXP";if(r.startsWith("sk_"))return"✗ Secret key (should be public)";const h=s&&r.startsWith("appl_"),y=!s&&(r.startsWith("strp_")||r.startsWith("public_"));return s&&!h?"✗ Invalid iOS key":!s&&!y?"✗ Invalid Web key":r==="your_revenuecat_public_key"?"✗ Not configured":"✓ Configured"})()]}),e.jsxs("div",{children:["Platform: ",navigator.platform]}),e.jsxs("div",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]}),e.jsx(P,{open:v,onOpenChange:j,children:e.jsxs(_,{className:"max-w-lg",children:[e.jsx(O,{children:e.jsx(R,{children:"RevenueCat Paywall Test"})}),e.jsx(Be,{onSuccess:()=>{A({title:"Purchase Success!",description:"RevenueCat integration test completed successfully"}),j(!1)},onError:s=>{A({title:"Purchase Test Failed",description:s,variant:"destructive"})}})]})})]})}function Ve(){const{isAvailable:t,isAuthorized:x,syncToDatabase:a,loading:u}=Ce(),[l,f]=d.useState(!1),[o,m]=d.useState(null),b=async()=>{if(!ce()){A({title:"Not Available",description:"HealthKit sync is only available on iOS devices",variant:"destructive"});return}if(!t||!x){A({title:"HealthKit Not Available",description:"Please enable HealthKit permissions in settings",variant:"destructive"});return}f(!0);try{console.log("Starting HealthKit sync...");const c=await a();if(m(c),c.success){const p=[];c.weightEntries&&p.push(`${c.weightEntries} weight entries`),c.bodyFatEntries&&p.push(`${c.bodyFatEntries} body fat entries`),c.stepEntries&&p.push(`${c.stepEntries} days of step data`),c.profileUpdated&&p.push("profile updated"),A({title:"HealthKit Sync Complete",description:p.length>0?`Synced: ${p.join(", ")}`:"All data up to date"})}else A({title:"Sync Failed",description:c.error||"Unknown error occurred",variant:"destructive"})}catch(c){console.error("Sync error:",c),A({title:"Sync Failed",description:c instanceof Error?c.message:"Unknown error occurred",variant:"destructive"})}finally{f(!1)}},v=()=>l||u?e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}):o?.success?e.jsx(H,{className:"mr-2 h-4 w-4 text-green-500"}):o?.success===!1?e.jsx(Ie,{className:"mr-2 h-4 w-4 text-red-500"}):e.jsx(Pe,{className:"mr-2 h-4 w-4"}),j=()=>l?"Syncing...":u?"Loading...":"Sync now";return e.jsxs(E,{variant:"outline",size:"sm",onClick:b,disabled:l||u||!t||!x,className:"w-full border-border bg-secondary text-foreground hover:bg-muted",children:[v(),j()]})}function Je(){const{user:t}=z();Ke();const[x,a]=d.useState(!1),[u,l]=d.useState({status:"trial",isTrialActive:!1,daysRemainingInTrial:0}),[f,o]=d.useState(null),m=async()=>{if(!t?.id)return null;const{data:r,error:h}=await K.from("subscriptions").select("*").eq("user_id",t.id).single();if(h&&h.code!=="PGRST116")throw new Error(`Failed to fetch subscription: ${h.message}`);return r},v=Te({queryKey:["subscription",t?.id],queryFn:m,enabled:!!t?.id}).isLoading,j=d.useCallback(r=>{if(!r)return{isTrialActive:!1,daysRemainingInTrial:0};const h=new Date,y=h<r,T=Math.max(0,Math.ceil((r.getTime()-h.getTime())/(1e3*60*60*24)));return{isTrialActive:y,daysRemainingInTrial:T}},[]),c=d.useCallback(async()=>{if(t){a(!0);try{const r=new Date,h=new Date(r.getTime()+3*24*60*60*1e3),{error:y}=await K.from("subscriptions").upsert({user_id:t.id,status:"trial",trial_start_date:r.toISOString(),trial_end_date:h.toISOString()});if(y){console.error("Error starting trial:",y);return}l({status:"trial",trialStartDate:r,trialEndDate:h,isTrialActive:!0,daysRemainingInTrial:3})}catch(r){console.error("Failed to start trial:",r)}finally{a(!1)}}},[t]),p=d.useCallback(async()=>{if(t){a(!0);try{const{data:r}=await K.from("subscriptions").select("*").eq("user_id",t.id).single();if(r){const h=r.trial_start_date?new Date(r.trial_start_date):void 0,y=r.trial_end_date?new Date(r.trial_end_date):void 0,T=r.subscription_start_date?new Date(r.subscription_start_date):void 0,D=r.subscription_end_date?new Date(r.subscription_end_date):void 0,{isTrialActive:w,daysRemainingInTrial:C}=j(y);l({status:r.status,trialStartDate:h,trialEndDate:y,subscriptionStartDate:T,subscriptionEndDate:D,productId:r.product_id,isTrialActive:w,daysRemainingInTrial:C}),r.status==="active"&&D&&o({nextBillingDate:D,lastPaymentDate:T,paymentMethod:"Apple Pay",amount:r.product_id?.includes("yearly")?79.99:9.99,currency:"USD"})}else console.log("No subscription found, starting trial for new user"),await c()}catch(r){console.error("Error loading subscription data:",r)}finally{a(!1)}}},[t,j,c]),i=d.useMemo(()=>u.status==="active"||u.isTrialActive,[u.status,u.isTrialActive]),n=d.useMemo(()=>u.status==="trial"&&!u.isTrialActive,[u.status,u.isTrialActive]),s=d.useCallback(async r=>{if(!t)return{success:!1,error:new Error("User not authenticated")};a(!0);try{console.log("Purchasing subscription:",r),await new Promise(D=>setTimeout(D,2e3));const h=new Date,y=new Date(h.getTime()+30*24*60*60*1e3),{error:T}=await K.from("subscriptions").upsert({user_id:t.id,status:"active",subscription_start_date:h.toISOString(),subscription_end_date:y.toISOString(),product_id:r});return T?(console.error("Error updating subscription:",T),{success:!1,error:T}):(l({status:"active",subscriptionStartDate:h,subscriptionEndDate:y,productId:r,isTrialActive:!1,daysRemainingInTrial:0}),o({nextBillingDate:y,lastPaymentDate:h,paymentMethod:"Apple Pay",amount:r.includes("yearly")?79.99:9.99,currency:"USD"}),{success:!0})}catch(h){return console.error("Purchase failed:",h),{success:!1,error:h}}finally{a(!1)}},[t]),g=d.useCallback(async()=>{a(!0);try{return console.log("Restoring purchases..."),await new Promise(r=>setTimeout(r,1e3)),await p(),{success:!0}}catch(r){return console.error("Restore failed:",r),{success:!1,error:r}}finally{a(!1)}},[]),S=d.useCallback(async()=>{const h=/iPad|iPhone|iPod/.test(navigator.userAgent)?"https://apps.apple.com/account/subscriptions":"https://play.google.com/store/account/subscriptions";window.open(h,"_blank")},[]);return d.useEffect(()=>{t&&p()},[t,p]),d.useEffect(()=>{if(!u.trialEndDate)return;const r=setInterval(()=>{const{isTrialActive:h,daysRemainingInTrial:y}=j(u.trialEndDate);l(T=>({...T,isTrialActive:h,daysRemainingInTrial:y}))},6e4);return()=>clearInterval(r)},[u.trialEndDate,j]),{subscriptionInfo:u,billingInfo:f,isLoading:x,loading:v,hasAccess:i,isTrialExpired:n,startTrial:c,purchaseSubscription:s,restorePurchases:g,cancelSubscription:S}}const ms=()=>{const t=we(),{signOut:x}=z(),{user:a,settings:u,updateSettings:l,updateUser:f,getFormattedHeight:o,loading:m}=ke();Je();const[b,v]=d.useState(!1),[j,c]=d.useState(!1),[p,i]=d.useState(!1),[n,s]=d.useState(!1),[g,S]=d.useState(!1),[r,h]=d.useState(a?.name||""),[y,T]=d.useState(a?.birthday?a.birthday:new Date(2e3,0,1)),[D,w]=d.useState(a?.height||175),[C,k]=d.useState(a?.email||""),[le,V]=d.useState(""),[oe,J]=d.useState(!1),[de,ue]=d.useState(localStorage.getItem("faceid_lock_enabled")==="true");d.useEffect(()=>{a&&(h(a.name||""),T(a.birthday?a.birthday:new Date(2e3,0,1)),w(a.height||175),k(a.email||""))},[a]);const me=N=>{console.log("Gender changing to:",N),f({gender:N})},he=N=>{l({healthKitSyncEnabled:N})},xe=N=>{l({googleFitSyncEnabled:N})},fe=async N=>{if(N)try{await Notification.requestPermission()==="granted"?(J(!0),console.log("Notifications enabled")):console.log("Notifications denied")}catch(G){console.error("Error requesting notification permission:",G)}else J(!1)},ge=N=>{ue(N),N?localStorage.setItem("faceid_lock_enabled","true"):localStorage.removeItem("faceid_lock_enabled")},pe=()=>{f({name:r}),v(!1)},be=()=>{f({birthday:y instanceof Date?y:new Date(y)}),c(!1)},ve=()=>{f({height:Math.round(D)}),i(!1)},je=()=>{f({email:C}),s(!1)},ye=()=>{console.log("Password updated"),V(""),S(!1)},Ne=async()=>{try{await x(),t("/")}catch(N){console.error("Error signing out:",N)}};return Ue({onSwipeRight:()=>t("/dashboard"),threshold:100}),m?e.jsx("div",{className:"min-h-svh bg-linear-bg text-linear-text font-inter",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-16 border-b border-linear-border bg-linear-card"}),e.jsx("div",{className:"space-y-8 p-6",children:[1,2,3].map(N=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 w-24 rounded bg-linear-border"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-12 rounded bg-linear-card"}),e.jsx("div",{className:"h-12 rounded bg-linear-card"}),e.jsx("div",{className:"h-12 rounded bg-linear-card"})]})]},N))})]})}):!a||!u?e.jsx("div",{className:"flex min-h-svh items-center justify-center bg-linear-bg font-inter",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-linear-text-secondary",children:"Failed to load settings. Please try again."}),e.jsx(E,{onClick:()=>window.location.reload(),className:"mt-4 border-linear-border bg-linear-card text-linear-text hover:bg-linear-border/50",variant:"outline",children:"Retry"})]})}):e.jsx(Ee,{children:e.jsxs("div",{className:"flex h-svh flex-col overflow-hidden bg-linear-bg text-linear-text font-inter",children:[e.jsxs("div",{className:"flex flex-shrink-0 items-center gap-4 border-b border-linear-border px-6 pb-4 pt-safe-top",children:[e.jsx(E,{size:"icon",variant:"ghost",onMouseEnter:()=>ne("/dashboard"),onFocus:()=>ne("/dashboard"),onClick:()=>t("/dashboard"),className:"h-10 w-10 text-linear-text-secondary hover:text-linear-text hover:bg-linear-border/50 transition-colors",children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-lg font-semibold tracking-tight text-linear-text",children:"Settings"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-8 p-6 pb-safe-bottom",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded border-b border-linear-border px-2 py-3 hover:bg-linear-border/20 transition-colors",onClick:()=>v(!0),children:[e.jsx("div",{className:"text-base font-medium text-linear-text",children:"Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-linear-text-secondary",children:a?.name||"Not set"}),e.jsx(B,{className:"h-4 w-4 text-linear-text-tertiary"})]})]}),e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded border-b border-linear-border px-2 py-3 hover:bg-linear-border/20 transition-colors",onClick:()=>c(!0),children:[e.jsx("div",{className:"text-base font-medium text-linear-text",children:"Birthday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-linear-text-secondary",children:a?.birthday?a.birthday.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set"}),e.jsx(B,{className:"h-4 w-4 text-linear-text-tertiary"})]})]}),e.jsxs("div",{className:"border-b border-linear-border py-3",children:[e.jsx("div",{className:"mb-3 flex items-center justify-between",children:e.jsx("div",{className:"text-base font-medium text-linear-text",children:"Biological sex"})}),e.jsx(Q,{value:a?.gender||"male",onValueChange:me,className:"w-full",children:e.jsxs(X,{className:"grid w-full grid-cols-2 border border-linear-border bg-linear-card",children:[e.jsx(Y,{value:"male",className:"text-linear-text data-[state=inactive]:border-linear-border data-[state=active]:bg-linear-purple data-[state=inactive]:bg-transparent data-[state=active]:text-white data-[state=inactive]:text-linear-text-secondary",children:"Male"}),e.jsx(Y,{value:"female",className:"text-linear-text data-[state=inactive]:border-linear-border data-[state=active]:bg-linear-purple data-[state=inactive]:bg-transparent data-[state=active]:text-white data-[state=inactive]:text-linear-text-secondary",children:"Female"})]})})]}),e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded border-b border-linear-border px-2 py-3 hover:bg-linear-border/20 transition-colors",onClick:()=>i(!0),children:[e.jsx("div",{className:"text-base font-medium text-linear-text",children:"Height"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-linear-text-secondary",children:a?.height?o(a.height):"Not set"}),e.jsx(B,{className:"h-4 w-4 text-linear-text-tertiary"})]})]})]})}),!1,e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-border py-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"text-base font-medium text-foreground",children:"Units"})}),e.jsx(Q,{value:u?.units||"imperial",onValueChange:N=>l({units:N}),className:"w-full",children:e.jsxs(X,{className:"grid w-full grid-cols-2 border border-border bg-secondary",children:[e.jsx(Y,{value:"imperial",className:"text-foreground data-[state=inactive]:border-muted-foreground/20 data-[state=active]:bg-primary data-[state=inactive]:bg-transparent data-[state=active]:text-primary-foreground data-[state=inactive]:text-muted-foreground",children:"Imperial (lbs, ft/in)"}),e.jsx(Y,{value:"metric",className:"text-foreground data-[state=inactive]:border-muted-foreground/20 data-[state=active]:bg-primary data-[state=inactive]:bg-transparent data-[state=active]:text-primary-foreground data-[state=inactive]:text-muted-foreground",children:"Metric (kg, cm)"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Notifications"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable push notifications"})]}),e.jsx(U,{checked:oe,onCheckedChange:fe})]}),e.jsxs("div",{className:"border-b border-border py-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Sync from Apple HealthKit"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"iOS only"})]}),e.jsx(U,{checked:u?.healthKitSyncEnabled||!1,onCheckedChange:he})]}),u?.healthKitSyncEnabled&&e.jsx(Ve,{})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Sync from Google Fit"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"All platforms"})]}),e.jsx(U,{checked:u?.googleFitSyncEnabled||!1,onCheckedChange:xe})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Account"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded px-2 py-4 hover:bg-secondary/20",onClick:()=>s(!0),children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-muted-foreground",children:a?.email||"Not set"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]})]}),e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded px-2 py-4 hover:bg-secondary/20",onClick:()=>S(!0),children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-muted-foreground",children:"••••••••"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h2",{className:"mb-6 border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Security"}),e.jsx(He,{}),ce()&&e.jsxs("div",{className:"-mx-2 mt-4 flex items-center justify-between rounded px-2 py-4 hover:bg-secondary/20",children:[e.jsx("div",{className:"text-base font-medium text-foreground",children:"Require Face ID on Launch"}),e.jsx(U,{checked:de,onCheckedChange:ge})]})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h2",{className:"mb-6 border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"System Status"}),e.jsx($e,{})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h2",{className:"mb-6 border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"HealthKit Integration"}),e.jsx(Le,{})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h2",{className:"mb-6 border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"RevenueCat Integration"}),e.jsx(ze,{})]}),e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h2",{className:"mb-6 border-b border-border pb-3 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Version Information"}),e.jsx(Oe,{showBuildInfo:!0})]}),e.jsx("div",{className:"border-t border-border pt-6",children:e.jsxs("div",{className:"-mx-2 flex cursor-pointer items-center justify-between rounded px-2 py-4 hover:bg-secondary/20",onClick:Ne,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"h-4 w-4 text-destructive"}),e.jsx("div",{className:"text-base font-medium text-destructive",children:"Logout"})]}),e.jsx(ie,{className:"h-4 w-4 rotate-180 text-muted-foreground"})]})})]})]}),e.jsx(P,{open:b,onOpenChange:v,children:e.jsxs(_,{className:"max-w-md border-border bg-background text-foreground",children:[e.jsx(O,{children:e.jsx(R,{className:"text-xl font-semibold",children:"Edit Name"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name",children:"Name"}),e.jsx(q,{id:"name",value:r,onChange:N=>h(N.target.value),className:"border-border bg-secondary text-foreground"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:pe,className:"flex-1",children:"Save"})]})]})]})}),e.jsx(P,{open:j,onOpenChange:c,children:e.jsxs(_,{className:"max-w-md border-border bg-background text-foreground",children:[e.jsx(O,{children:e.jsx(R,{className:"text-xl font-semibold",children:"Edit Birthday"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Birthday"}),e.jsx(We,{date:y,onDateChange:T,className:"h-60"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:be,className:"flex-1",children:"Save"})]})]})]})}),e.jsx(P,{open:p,onOpenChange:i,children:e.jsxs(_,{className:"max-w-md border-border bg-background text-foreground",children:[e.jsx(O,{children:e.jsx(R,{className:"text-xl font-semibold",children:"Edit Height"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Height"}),e.jsx(Ye,{heightInCm:D,units:u?.units||"imperial",onHeightChange:w,className:"h-60"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:ve,className:"flex-1",children:"Save"})]})]})]})}),e.jsx(P,{open:n,onOpenChange:s,children:e.jsxs(_,{className:"max-w-md border-border bg-background text-foreground",children:[e.jsx(O,{children:e.jsx(R,{className:"text-xl font-semibold",children:"Edit Email"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:"Email"}),e.jsx(q,{id:"email",type:"email",value:C,onChange:N=>k(N.target.value),className:"border-border bg-secondary text-foreground"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:je,className:"flex-1",children:"Save"})]})]})]})}),e.jsx(P,{open:g,onOpenChange:S,children:e.jsxs(_,{className:"max-w-md border-border bg-background text-foreground",children:[e.jsx(O,{children:e.jsx(R,{className:"text-xl font-semibold",children:"Change Password"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"password",children:"New Password"}),e.jsx(q,{id:"password",type:"password",value:le,onChange:N=>V(N.target.value),className:"border-border bg-secondary text-foreground",placeholder:"Enter new password"})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{onClick:ye,className:"flex-1",children:"Update Password"})]})]})]})})]})})};export{ms as default};
