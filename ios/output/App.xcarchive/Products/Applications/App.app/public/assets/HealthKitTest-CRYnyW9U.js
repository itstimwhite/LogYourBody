import{j as e}from"./ui-vendor-QE-oobKj.js";import{w as u,B as a,P as j,C as f,b as N,c as g,d as b,i as n}from"./index-C6tVOIHe.js";import{H as v}from"./HealthKitDebug-CtOSojRy.js";import{a as c,u as w}from"./react-vendor-ClhmtWht.js";import{Q as d,H as m,w as C,U as H,o as S}from"./utils-vendor-BSj6XY88.js";import"./data-vendor-DLfSSb0Z.js";import"./analytics-vendor-CXgENQ1a.js";function k(){const[s,t]=c.useState("idle"),[l,r]=c.useState(null),h=o=>{console.log("HealthKit setup completed with data:",o),r(o),t("profile")},x=()=>{console.log("HealthKit setup skipped"),r(null),t("profile")},p=()=>{console.log("Profile setup completed"),t("complete")},i=()=>{t("idle"),r(null)};return s==="healthkit"?e.jsx(u,{onComplete:h,onSkip:x}):s==="profile"?e.jsxs("div",{className:"relative",children:[e.jsxs(a,{onClick:i,className:"absolute left-4 top-4 z-10",variant:"outline",size:"sm",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Reset Test"]}),e.jsx(j,{onComplete:p,healthKitData:l})]}):e.jsx("div",{className:"space-y-4",children:e.jsxs(f,{className:"border-border bg-secondary/30",children:[e.jsx(N,{children:e.jsxs(g,{className:"flex items-center text-lg",children:[e.jsx(m,{className:"mr-2 h-5 w-5 text-primary"}),"HealthKit Onboarding Flow Test"]})}),e.jsxs(b,{className:"space-y-4",children:[s==="complete"&&e.jsxs("div",{className:"rounded border border-green-200 bg-green-50 p-4 text-green-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"mr-2 h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Onboarding Flow Completed!"})]}),e.jsx("p",{className:"mt-2 text-sm",children:"The user would now be taken to the main dashboard."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Test Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(a,{onClick:()=>t("healthkit"),disabled:!n(),size:"sm",variant:"outline",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Start HealthKit Setup"]}),e.jsxs(a,{onClick:()=>t("profile"),size:"sm",variant:"outline",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Start Profile Setup"]}),s==="complete"&&e.jsxs(a,{onClick:i,size:"sm",variant:"outline",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Reset Test"]})]}),!n()&&e.jsx("div",{className:"rounded border border-orange-200 bg-orange-50 p-2 text-sm text-orange-700",children:"HealthKit setup is only available on iOS devices. The flow will skip directly to profile setup on other platforms."})]}),l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"HealthKit Data Retrieved"}),e.jsx("div",{className:"rounded border bg-muted/30 p-3 text-sm",children:e.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l,null,2)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Flow State"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Current state: ",e.jsx("code",{className:"rounded bg-muted px-2 py-1",children:s})]})]})]})]})})}const R=()=>{const s=w();return e.jsxs("div",{className:"flex min-h-screen flex-col bg-background text-foreground",children:[e.jsxs("div",{className:"flex items-center gap-4 border-b border-border px-6 py-4",children:[e.jsx(a,{size:"icon",variant:"outline",onClick:()=>s("/dashboard"),className:"h-10 w-10 border-border bg-secondary text-foreground hover:bg-muted",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"HealthKit Testing"})]}),e.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[e.jsx(k,{}),e.jsx(v,{})]})]})};export{R as default};
