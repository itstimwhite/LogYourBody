var f="basil",w=function(e){return e===3?"v3":e},v="https://js.stripe.com",j="".concat(v,"/").concat(f,"/stripe.js"),S=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,y=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,E=function(e){return S.test(e)||y.test(e)},b=function(){for(var e=document.querySelectorAll('script[src^="'.concat(v,'"]')),r=0;r<e.length;r++){var n=e[r];if(E(n.src))return n}return null},d=function(e){var r="",n=document.createElement("script");n.src="".concat(j).concat(r);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(n),n},g=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:r})},i=null,c=null,s=null,x=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},L=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},P=function(e){return i!==null?i:(i=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var t=b();if(!(t&&e)){if(!t)t=d(e);else if(t&&s!==null&&c!==null){var o;t.removeEventListener("load",s),t.removeEventListener("error",c),(o=t.parentNode)===null||o===void 0||o.removeChild(t),t=d(e)}}s=L(r,n),c=x(n),t.addEventListener("load",s),t.addEventListener("error",c)}catch(u){n(u);return}}),i.catch(function(r){return i=null,Promise.reject(r)}))},T=function(e,r,n){if(e===null)return null;var t=r[0],o=t.match(/^pk_test/),u=w(e.version),l=f;o&&u!==l&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=e.apply(void 0,r);return g(p,n),p},a,m=!1,h=function(){return a||(a=P(null).catch(function(e){return a=null,Promise.reject(e)}),a)};Promise.resolve().then(function(){return h()}).catch(function(e){m||console.warn(e)});var _=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];m=!0;var t=Date.now();return h().then(function(o){return T(o,r,t)})};export{_ as loadStripe};
