function s(){return typeof window<"u"}function u(){try{const e="production"}catch{}return"production"}function l(){return(s()?window.vam:u())||"production"}function c(){return l()==="production"}function a(){return l()==="development"}function d(e,{[e]:o,...r}){return r}function f(e,o){if(!e)return;let r=e;const t=[];for(const[i,n]of Object.entries(e))typeof n=="object"&&n!==null&&(o.strip?r=d(i,r):t.push(i));if(t.length>0&&!o.strip)throw Error(`The following properties are not valid: ${t.join(", ")}. Only strings, numbers, booleans, and null are allowed.`);return r}function v(e,o,r){var t,i;if(!s()){const n="[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment";if(c())console.warn(n);else throw new Error(n);return}if(!o){(t=window.va)==null||t.call(window,"event",{name:e,options:r});return}try{const n=f(o,{strip:c()});(i=window.va)==null||i.call(window,"event",{name:e,data:n,options:r})}catch(n){n instanceof Error&&a()&&console.error(n)}}export{v as t};
