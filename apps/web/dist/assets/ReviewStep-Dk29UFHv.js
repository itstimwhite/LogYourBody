import{j as e}from"./ui-vendor-BTNJdHiL.js";import{a as j}from"./react-vendor-CGPzL8fz.js";import{m as a,c as n}from"./index-BWixOZri.js";import{u as N,w as b}from"./Dashboard-jXZD-6ec.js";import{a as w,c as k}from"./weight-logging-rZoVubPW.js";import{S as C,am as T,g as S,b as D,f as E,K as H,ap as m,m as W}from"./utils-vendor-BD55slVq.js";import"./data-vendor-Dz4nk24n.js";import"./analytics-vendor-CXgENQ1a.js";import"./use-is-mounted-Dtnm4exq.js";import"./focus-management-6kc7Qb5h.js";import"./input-CkE6ZwYN.js";import"./label-DJ6QZZke.js";import"./progress-DaDOMKAa.js";import"./VersionDisplay-BrEkyV1W.js";import"./prefetch-BKo02pYs.js";import"./use-supabase-body-metrics-D-84L7_Y.js";import"./use-swipe-navigation-Br04oNeb.js";function J({weight:i,bodyFat:r,method:l,onEditStep:u,onAddPhoto:o}){const{setCanGoNext:c}=N();j.useEffect(()=>{b.startStep(4),c(!0)},[c]);const x=t=>{try{return new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t)}catch{return t.toLocaleDateString()+" "+t.toLocaleTimeString()}},p=new Date,h=w.getWeightHelper(i),d=k.getHealthWarning(r.value),y=[{icon:C,label:"Weight",value:`${i.value.toFixed(1)} ${i.unit}`,subtitle:h,step:0},{icon:T,label:"Body Fat",value:`${r.value.toFixed(1)}%`,subtitle:r.value<6?"⚠️ Dangerously low":"Body fat percentage",step:1,warning:r.value<6},{icon:S,label:"Method",value:l.label,subtitle:"Measurement method",step:2},{icon:D,label:"Date & Time",value:x(p),subtitle:"Recorded automatically",step:-1}],g=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx(a.div,{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-primary/10",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(E,{className:"h-10 w-10 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-foreground",children:"Review measurement"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Confirm your weight entry details"})]})]}),d&&e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.05,duration:.3},className:"mx-4",children:e.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-destructive/10 p-4",children:[e.jsx(H,{className:"mt-0.5 h-5 w-5 shrink-0 text-destructive"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-destructive",children:"Health Warning"}),e.jsx("p",{className:"text-sm text-destructive/90",children:d})]})]})}),e.jsx(a.div,{className:"space-y-4 rounded-3xl bg-secondary/20 p-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.25},children:y.map((t,f)=>{const v=t.icon,s=t.step>=0;return e.jsxs(a.div,{className:n("flex items-center gap-4 rounded-2xl p-4 transition-all duration-200",s?"group cursor-pointer hover:bg-secondary/30":"cursor-default"),onClick:()=>s&&u(t.step),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05,duration:.25},whileTap:s?{scale:.98}:{},role:s?"button":void 0,"aria-label":s?`Edit ${t.label}`:void 0,children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(v,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:t.label}),s&&e.jsx(m,{className:"h-4 w-4 text-muted-foreground opacity-0 transition-opacity group-hover:opacity-100"})]}),e.jsx("div",{className:n("truncate text-lg font-semibold",t.warning?"text-destructive":"text-foreground"),children:t.value}),e.jsx("div",{className:n("truncate text-sm",t.warning?"text-destructive font-semibold":"text-muted-foreground"),children:t.subtitle})]}),s&&e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary/50 opacity-0 transition-all duration-200 group-hover:scale-110 group-hover:opacity-100",children:e.jsx(m,{className:"h-4 w-4 text-foreground"})})]},t.label)})}),o&&e.jsxs(a.div,{className:"space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.25},children:[e.jsx("p",{className:"text-center text-sm font-medium text-muted-foreground",children:"Optional"}),e.jsxs(a.button,{onClick:o,className:"flex h-14 w-full items-center justify-center gap-3 rounded-2xl border-2 border-dashed border-border bg-secondary/20 transition-all duration-200 hover:border-primary/50 hover:bg-secondary/30",whileTap:{scale:.98},children:[e.jsx(W,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-foreground",children:"Add photo"})]})]}),e.jsx(a.div,{className:"space-y-2 rounded-2xl bg-primary/5 p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.25},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-1 text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Quick Summary"}),e.jsxs("div",{className:"text-foreground",children:[e.jsxs("span",{className:"text-lg font-semibold",children:[i.value.toFixed(1)," ",i.unit]}),e.jsx("span",{className:"mx-2 text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-lg font-semibold",children:[r.value.toFixed(1),"%"]}),e.jsx("span",{className:"mx-2 text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-muted-foreground",children:l.label})]})]})}),e.jsxs(a.div,{className:"space-y-1 text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.25},children:[e.jsx("p",{children:"Tap any field above to edit"}),e.jsx("p",{className:"opacity-75",children:"Your measurement will be saved with the current date and time"})]})]});return e.jsx(a.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.25,type:"spring",damping:20},children:g})}export{J as ReviewStep};
